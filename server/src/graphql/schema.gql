#  ___________________________________________________________
# /                                                           \
# |                                                           |
# |                     TYPE SECTION STARTS                   |
# |                                                           |
# \___________________________________________________________/


enum UserTypeEnum {
  USER
  ADMIN
}

enum ActionEnum {
  FOLDER
  PLAN
  ROUTE_ACTION
  CODE
  SEARCH
  REVIEW_GOAL_PROGRESS
}

type User {
  id: ID!
  type: UserTypeEnum!
  swarms: [Swarm]
  memories: [Memory]
}

type Swarm {
  id: ID
  title: String
  goal: String
  memory: Memory
  chats: [Chat]
  actions: [ActionNode]
  memories: [MemoryNode]
}

type Memory {
  id: ID!
  title: String!
}

type Chat {
  id: ID!
  title: String!
}

type ActionNode {
  id: ID!
  title: String!
}

type MemoryNode {
  id: ID!
  title: String!
}

type ActionMetadataNode {
  id: ID!
  parentId: ID
  description: String!
  actionEnum: ActionEnum!
}

#  ___________________________________________________________
# /                                                           \
# |                                                           |
# |                     TYPE SECTION ENDS                     |
# |                                                           |
# \___________________________________________________________/

# ___________________________________________________________

#  ___________________________________________________________
# /                                                           \
# |                                                           |
# |                   QUERY SECTION STARTS                    |
# |                                                           |
# \___________________________________________________________/

input CreateMemoryRequest {
  title: String!
}

input CreateSwarmRequest {
  title: String!
  goal: String!
  memoryId: ID!
}

type SwarmMutation {
  createSwarm(input: CreateSwarmRequest!): Swarm
}

type MemoryMutation {
  createMemory(input: CreateMemoryRequest!): Memory
}

type ActionMetadataQuery {
  getActionMetadata: [ActionMetadataNode]
}

#  ___________________________________________________________
# /                                                           \
# |                                                           |
# |                     QUERY SECTION ENDS                    |
# |                                                           |
# \___________________________________________________________/

type RootMutation {
  swarmMutation: SwarmMutation
  memoryMutation: MemoryMutation
}

type RootQuery {
  user: User
  swarm(id: ID!): Swarm
  actionMetadata: ActionMetadataQuery
}

schema {
  query: RootQuery
  mutation: RootMutation
}
